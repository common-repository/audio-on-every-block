(()=>{"use strict";const e=window.React,{__}=wp.i18n,t=["core/heading","core/paragraph","core/gallery","core/list","core/media-text","core/navigation","core/quote","core/pullquote","core/table"];wp.hooks.addFilter("blocks.registerBlockType","awp/cover-custom-attribute",(function(e,a){if(void 0!==e.attributes){if(!t.includes(a))return e;e.attributes=Object.assign(e.attributes,{audioPlaybackId:{type:"integer",default:0},audioPlaybackTitle:{type:"string",default:""}})}return e}));const a=wp.compose.createHigherOrderComponent((a=>o=>{const{Fragment:l}=wp.element,{InspectorControls:i,MediaUpload:r,MediaUploadCheck:c}=wp.blockEditor,{Button:n,PanelBody:d,TextControl:u}=wp.components,{attributes:s,setAttributes:b,isSelected:p}=o;return(0,e.createElement)(l,null,(0,e.createElement)(a,{...o}),p&&t.includes(o.name)&&(0,e.createElement)(i,null,(0,e.createElement)(d,{title:__("Audio Playback","audio-on-every-block")},(0,e.createElement)("div",{className:"editor-choose-block-audio"},(0,e.createElement)(c,null,(0,e.createElement)(r,{allowedTypes:["audio"],onSelect:e=>{o.setAttributes({audioPlaybackId:e.id})},value:s.mediaId,render:({open:t})=>(0,e.createElement)(n,{className:0===s.audioPlaybackId?"editor-post-featured-image__toggle":"editor-post-featured-image__preview",onClick:t},0===s.audioPlaybackId&&__("Choose an audio-file","audio-on-every-block"))})),0!==s.audioPlaybackId&&(0,e.createElement)(c,null,(0,e.createElement)(n,{onClick:()=>{o.setAttributes({audioPlaybackId:0})},isLink:!0,isDestructive:!0},__("Remove audio-file","audio-on-every-block"))),(0,e.createElement)(u,{label:__("Title","audio-on-every-block"),value:s.audioPlaybackTitle,onChange:e=>b({audioPlaybackTitle:e})})))))}),"coverAdvancedControls");wp.hooks.addFilter("editor.BlockEdit","awp/cover-advanced-control",a)})();